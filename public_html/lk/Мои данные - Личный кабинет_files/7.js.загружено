(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{UZWV:function(e,t,a){"use strict";var s=a("8VmE"),r=a.n(s),n=a("gT8Q"),c=a("mXGw"),o=a.n(c);function l(e){var t=e.className,a=e.htmlFor,s=e.name,c=e.children,l=e.variant,i=e.value,m=Object(n.c)().register(s),u=r()({},m);return o.a.createElement("div",{className:"checkbox ".concat(l?"checkbox-"+l:""," ").concat(t)},o.a.createElement("input",r()({type:"checkbox",name:s,id:a,value:i},u)),o.a.createElement("label",{htmlFor:a},c))}t.a=Object(c.memo)(l)},mRMV:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return l}));var s=a("N2GO"),r=a("MDG7"),n=a("UZWV"),c=a("wULM"),o=a("/m4v"),l={subscription_news:c.a.bool().nullable().notRequired(),subscription_event_announcement:c.a.bool().nullable().notRequired()};t.a=e.memo((function(t){var a=Object(o.c)((function(e){return e.user})).profile;return e.createElement(s.a,{title:gettext("Subscriptions")},e.createElement(r.a,{name:"subscriptions",className:"subscriptions"},e.createElement("div",{className:"subscriptions__email",style:{paddingBottom:"24px"}},"Email ",e.createElement("br",null),e.createElement("span",null,a.email)),e.createElement(n.a,{htmlFor:"settingsSubscNews",variant:"outline-primary",value:!0,name:"subscription.news",children:gettext("I agree to receive news")}),e.createElement(n.a,{htmlFor:"settingsSubscEventsAnn",variant:"outline-primary",value:!0,name:"subscription.event_announcement",children:gettext("I agree to receive events announcements")})))}))}).call(this,a("mXGw"))},ogDw:function(e,t,a){"use strict";a.r(t);var s=a("RiSW"),r=a.n(s),n=a("nxTg"),c=a.n(n),o=a("OvAC"),l=a.n(o),i=a("gT8Q"),m=a("N2GO"),u=a("yv40"),p=a("9mTB"),b=a("B9iI"),d=a("mRMV"),f=a("txoE"),g=a("mXGw"),w=a.n(g),E=a("yKit"),v=a("/m4v"),h=a("UV+Q");function O(e){var t=e.email,a=e.onConfirm;return w.a.createElement("div",{className:"modal-password-reset-success"},w.a.createElement("div",{className:"modal-password-reset-success__title"},"Ссылка отправлена"),w.a.createElement("div",{className:"modal-password-reset-success__descr"},"Мы выслали ссылку на смену пароля на вашу почту ",w.a.createElement("span",null,t)),w.a.createElement("button",{type:"button",className:"btn btn-outline-primary modal-password-reset-success__btn",children:"Ясно",onClick:a}))}var j=Object(g.memo)(O),y=a("wULM"),_=["documents"],x=["profile","profileIsSet"];function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=y.a.object().shape({old_password:y.a.string().required(),new_password:y.a.string().matches(E.b,{excludeEmptyString:!0,message:"Weak password"}).required()}),P=y.a.object().shape(S({},d.b));function k(){var e=Object(g.useState)(!1),t=c()(e,2),a=t[0],s=t[1],n=Object(g.useState)(!1),o=c()(n,2),l=o[0],E=o[1],O=Object(g.useState)(!1),N=c()(O,2),k=N[0],F=N[1],R=Object(g.useState)(!1),G=c()(R,2),T=G[0],V=G[1],D=Object(v.c)((function(e){return e.user})),U=D.profile,A=(U.documents,r()(U,_)),I=(D.profileIsSet,r()(D,x)),M=Object(v.c)((function(e){return e.auth})),X=Object(v.b)(),q=Object(f.a)(),Q=Object(i.b)({resolver:Object(y.c)(C)}),W=Object(i.b)({resolver:Object(y.c)(P),defaultValues:S({},A)}),Z=function(){F(!1),V(!1)};return Object(g.useEffect)((function(){Q.formState.isSubmitted&&M.errors.passwordReset&&q.show(M.messages.passwordReset,{type:"error"})}),[M.errors.passwordReset]),Object(g.useEffect)((function(){T&&M.success.passwordReset&&F(!0)}),[M.success.passwordReset]),Object(g.useEffect)((function(){a&&(M.errors.passwordChange||M.success.passwordChange)&&q.show(M.messages.passwordChange,{type:M.errors.passwordChange?"error":"success"})}),[a,M.errors.passwordChange,M.success.passwordChange]),Object(g.useEffect)((function(){l&&(I.errors.formProfile||I.success.formProfile)&&q.show(I.messages.formProfile,{type:I.errors.formProfile?"error":"success"})}),[l,I.errors.formProfile,I.success.formProfile]),Object(g.useEffect)((function(){Q.formState.isSubmitted&&Object.keys(Q.formState.errors).length&&q.form.error()}),[Q.formState.isSubmitting]),w.a.createElement(w.a.Fragment,null,w.a.createElement(h.a,{open:k,onClose:Z},w.a.createElement(j,{email:A.email,onConfirm:Z})),w.a.createElement("div",{className:"profile-settings"},w.a.createElement(i.a,Q,w.a.createElement("form",{onSubmit:Q.handleSubmit((function(e){X(Object(p.c)(e)),0==a&&s(!0)})),className:"profile-settings__pcf"},w.a.createElement(m.a,{title:gettext("Change password")},w.a.createElement("div",{className:"row"},w.a.createElement("div",{className:"col-md-8"},w.a.createElement(u.a,{htmlFor:"settingsOldpassword",children:gettext("Old password"),name:"old_password",className:"profile-settings__old-password",form:Q}),w.a.createElement("button",{type:"button",children:gettext("Forgot password ?"),className:"profile-settings__btn-forget",onClick:function(){X(Object(p.i)({email:A.email})),V(!0)}}),w.a.createElement(u.a,{htmlFor:"settingsNewpassword",children:gettext("New password"),name:"new_password",autocomplete:"new-password",showTests:!0,form:Q}),w.a.createElement("div",{className:"profile-settings__btn-submit-outer"},w.a.createElement("button",{type:"submit",className:"btn btn-sm btn-outline-primary profile-settings__btn-submit for-pcf"},gettext("Change password")))))))),w.a.createElement(i.a,W,w.a.createElement(d.a,null),w.a.createElement("div",{className:"profile-settings__btn-submit-outer"},w.a.createElement("button",{type:"button",className:"btn btn-warning profile-settings__btn-submit",onClick:W.handleSubmit((function(e){X(Object(b.i)(e)),0==l&&E(!0)}))},gettext("Save changes"))))))}t.default=Object(g.memo)(k)},yKit:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var s=a("mXGw"),r=a.n(s),n=a("iYGr"),c=/^(?=.*[a-z|A-Z|а-я|А-Я])(?=.*[0-9])(?=.*[\!\"\$\%\&\'\(\)\+\,\-\.\/\:\;\<\=\>\?\@\[\]\^\_\`\{\|\}\~\#\*])(?=.{8,})/,o=[{regex:/^(?=.{8,})/,message:gettext("At least 8 characters")},{regex:/^(?=.*[A-Z|А-Я])/,message:gettext("Uppercase alphabetical character")},{regex:/^(?=.*[a-z|а-я])/,message:gettext("Lowercase alphabetical character")},{regex:/^(?=.*[0-9])/,message:gettext("Numbers")},{regex:/^((?=.*[\!\"\$\%\&\'\(\)\+\,\-\.\/\:\;\<\=\>\?\@\[\]\^\_\`\{\|\}\~\#\*]).*)/,message:gettext("Symbol")+" (@, #, %, ?, !, *)"}];function l(e){var t,a=e.password,s=void 0===a?"":a,c=0,l=o.map((function(e,t){var a=e.regex.test(s);return a&&c++,r.a.createElement("li",{key:t,className:"".concat(a?"is-valid":"not-valid")},e.message)}));return t=c/o.length*100,r.a.createElement("div",{className:"form-password-complexity"},r.a.createElement("span",{className:"form-password-complexity__title"},gettext("Password complexity"),":"),r.a.createElement("span",{className:"form-password-complexity__progress"},r.a.createElement("span",{style:{width:t+"%",backgroundColor:t>49?t>99?n.default["colors-green"]:n.default["colors-orange"]:n.default["colors-red"]}}),[1,2,3,4,5].map((function(e){return r.a.createElement("span",{key:e})}))),r.a.createElement("ul",null,l))}t.a=Object(s.memo)(l)},yv40:function(e,t,a){"use strict";var s=a("nxTg"),r=a.n(s),n=a("8VmE"),c=a.n(n),o=a("tDzP"),l=a("gT8Q"),i=a("yKit"),m=a("mXGw"),u=a.n(m);function p(e){var t=e.htmlFor,a=e.children,s=e.name,n=e.autocomplete,p=void 0===n?"password":n,b=e.className,d=e.showTests,f=void 0!==d&&d,g=Object(l.c)(),w=g.register,E=g.control,v=g.formState,h=v.isSubmitted,O=v.errors,j=w(s),y=c()({},j),_=O[s],x=Object(m.useState)(!1),N=r()(x,2),S=N[0],C=N[1],P=Object(m.useState)(!1),k=r()(P,2),F=k[0],R=k[1],G=Object(l.d)({control:E,name:s}),T=h?_?"not-valid":G?"is-valid":"":"";return Object(m.useEffect)((function(){f&&G&&R(!0)}),[G]),u.a.createElement("div",{className:"form-group for-password ".concat(T," ").concat(b)},a&&u.a.createElement("label",{htmlFor:t},a),u.a.createElement("div",{className:"input"},u.a.createElement("input",c()({type:S?"text":"password",name:s,autoComplete:p,className:"form-control",id:t},y)),u.a.createElement(o.a,{height:S?18:15,width:"22",name:S?"eye-close":"eye",onClick:function(e){C(!S)},title:"".concat(S?"Show":"Hide"," Password")})),F&&u.a.createElement(i.a,{password:G}))}t.a=Object(m.memo)(p)}}]);