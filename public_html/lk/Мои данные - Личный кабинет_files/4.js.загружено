(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"6IBK":function(e,t,a){"use strict";(function(e){var n=a("gT8Q"),r=a("CJau"),l=a("/m4v");function i(){return e.createElement(e.Fragment,null,e.createElement("div",{className:"row row--small"},e.createElement("div",{className:"col for-serie"},e.createElement(r.a,{htmlFor:"profilePassserie",children:gettext("Serie"),name:"passport.series",imask:{mask:"9999",placeholder:"9999"}})),e.createElement("div",{className:"col for-number"},e.createElement(r.a,{htmlFor:"profilePassnum",children:gettext("Number"),name:"passport.number",imask:{mask:"999999",placeholder:"999999"}})),e.createElement("div",{className:"col-12 col-md for-date"},e.createElement(r.a,{htmlFor:"profilePassdatedel",children:gettext("Issued date"),name:"passport.issued_at",imask:{alias:"datetime",placeholder:gettext("дд/мм/гггг")}}))),e.createElement(r.a,{htmlFor:"profilePassOrgdel",children:gettext("Issued by"),name:"passport.issued_by"}),e.createElement("div",{className:"row row--small"},e.createElement("div",{className:"col col-md-4"},e.createElement(r.a,{htmlFor:"profilePassdepcode",children:gettext("Department code"),name:"passport.department_code",imask:{mask:"999-999",placeholder:"999-999"}})),e.createElement("div",{className:"col col-md-4"},e.createElement(r.a,{htmlFor:"profilePassbirthdate",children:gettext("Birthdate"),name:"passport.date_of_birth",imask:{alias:"datetime",placeholder:gettext("дд/мм/гггг")}}))),e.createElement(r.a,{htmlFor:"profilePassRegAddre",children:gettext("Registration address"),name:"passport.registration_address"}))}function c(){return e.createElement(e.Fragment,null,e.createElement("div",{className:"row row--small"},e.createElement("div",{className:"col-12 col-md-8"},e.createElement(r.a,{htmlFor:"profilePassnum",children:gettext("Number"),name:"passport.number"}))),e.createElement("div",{className:"row row--small"},e.createElement("div",{className:"col-6 col-md-4"},e.createElement(r.a,{htmlFor:"profilePassnationality",children:gettext("Nationality"),name:"passport.type_custom"})),e.createElement("div",{className:"col-6 col-md-4"},e.createElement(r.a,{htmlFor:"profilePassbirthdate",children:gettext("Birthdate"),name:"passport.date_of_birth",imask:{alias:"datetime",placeholder:gettext("дд/мм/гггг")}}))))}t.a=e.memo((function(t){var a=Object(l.c)((function(e){return e.user})),r=Object(n.c)(),s=Object(n.d)({control:r.control,name:"passport.type"}),o="ru"==s,m="other"==s;return e.useEffect((function(){var e=[];o?e.push("passport_series","passport_issued_at","passport_issued_by","passport_department_code","passport_registration_address","passport_date_of_birth","passport_number"):m&&e.push("passport_date_of_birth","passport_type_custom","passport_number"),e.forEach((function(e){r.setValue(e,null==a?void 0:a.profile[e])}))}),[s]),s?e.createElement("div",{className:"passport-fields for-".concat(s)},o&&e.createElement(i,null),m&&e.createElement(c,null)):null}))}).call(this,a("mXGw"))},FvgB:function(e,t,a){"use strict";(function(e){var n=a("8VmE"),r=a.n(n),l=a("RiSW"),i=a.n(l),c=a("gT8Q"),s=a("/m4v"),o=a("CJau"),m=["dependsOn","name"];t.a=e.memo((function(t){var a=t.dependsOn,n=t.name,l=i()(t,m),u=(Object(s.c)((function(e){return e.user})),Object(c.c)()),d=Object(c.d)({control:u.control,name:a}),f="custom"===d;return e.useEffect((function(){}),[d]),e.createElement(e.Fragment,null,f&&e.createElement(o.a,r()({name:n},l)))}))}).call(this,a("mXGw"))},S7pS:function(e,t,a){"use strict";a.r(t);var n=a("fFdx"),r=a.n(n),l=a("RiSW"),i=a.n(l),c=a("nxTg"),s=a.n(c),o=a("OvAC"),m=a.n(o),u=a("NthX"),d=a.n(u),f=a("mXGw"),p=a.n(f),h=a("/m4v"),b=a("oNR1"),E=a("gT8Q"),g=a("B9iI"),v=a("CJau"),O=a("8VmE"),_=a.n(O),N=a("eWzo"),S=a("AmVM"),j=["className","htmlFor","name","children","variant","value"];function y(e){var t=e.className,a=e.htmlFor,n=e.name,r=e.children,l=e.variant,c=e.value,s=i()(e,j),o=Object(E.c)(),m=o.register(n),u=_()({},m),d=Object(f.useContext)(S.c),h=d.disabledFields,b=d.verificationErrors,g="";return b.length>0&&b.includes(n)&&(g=Object(N.h)(o.formState.dirtyFields,n)||Object(N.h)(o.formState.touchedFields,n)?"profile_verification_changed":"profile_verification_not-valid"),p.a.createElement("div",{className:"radio ".concat(l?"radio-"+l:""," ").concat(g," ").concat(h&&h.includes(n)&&"disabled"," ").concat(t)},p.a.createElement("input",_()({type:"radio",name:n,id:a,value:c,onClick:function(e){o.setValue(n,e.target.value,{shouldTouch:!0})},disabled:!!h&&h.includes(n)},u,s)),p.a.createElement("label",{htmlFor:a},r))}var x=Object(f.memo)(y),F=a("MDG7"),I=a("N2GO"),w=a("mIuT"),D=a("aaj9"),A=a("tlT5"),V=a("J8cQ"),T=a("SfZJ"),C=a("fxJx"),P=a("hjdk"),L=a("iYGr"),k=a("tDzP"),R=["isAsync","isCreatable"],z={DropdownIndicator:function(e){return p.a.createElement(k.a,{name:"arrow-down-full",className:"select__dropdown-indicator",height:7,width:13,style:{fill:e.isFocused?L.default["colors-indigo"]:L.default["colors-light7"]}})},Option:function(e){return delete e.innerProps.onMouseMove,delete e.innerProps.onMouseOver,p.a.createElement(D.f.Option,e)}},q={control:function(){return null},option:function(){return null},valueContainer:function(){return null},indicatorSeparator:function(){return null},input:function(){return null},dropdownIndicator:function(){return null},groupHeading:function(){return null}};function M(e){var t=e.isAsync,a=e.isCreatable,n=i()(e,R),r=Object(f.useMemo)((function(){return t&&a?P.a:t?T.a:a?C.a:A.a}),[t,a]);return p.a.createElement(r,_()({components:z,classNamePrefix:"select",styles:q,defaultValue:"",placeholder:"",noOptionsMessage:function(){return a?"Введите свой вариант":"Ничего не найдено"},formatCreateLabel:function(e){return'Добавить "'.concat(e,'"')},className:"select",filterOption:Object(V.b)({ignoreAccents:!1,ignoreCase:!0,matchFrom:"any"})},n))}var B=p.a.memo(M),U=a("xPX6"),G=["addCustom","loadOptions","name","children","getOptionLabel","getOptionValue","className"];function Y(e){e.addCustom;var t=e.loadOptions,a=e.name,n=e.children,r=(e.getOptionLabel,e.getOptionValue,e.className),l=i()(e,G),c=Object(f.useState)(!1),o=s()(c,2),m=o[0],u=o[1],d=Object(E.c)(),h=Object(N.h)(d.formState.errors,a),b=Object(E.d)({control:d.control,name:a}),g=Object(f.useContext)(S.c),v=g.disabledFields,O=g.verificationErrors,j="",y="";d.formState.isSubmitted&&(h?y=U.VALIDATION_CLASSES.NOT_VALID:!l.disabled&&b&&(y=U.VALIDATION_CLASSES.VALID));var x="";O.length>0&&O.includes(a)&&(x=Object(N.h)(d.formState.dirtyFields,a)||Object(N.h)(d.formState.touchedFields,a)?U.VALIDATION_CLASSES.VERIFICATION_VALID:U.VALIDATION_CLASSES.VERIFICATION_NOT_VALID),j=y==U.VALIDATION_CLASSES.NOT_VALID?x?U.VALIDATION_CLASSES.VERIFICATION_NOT_VALID:y:x||y;var F=p.a.useState(Object(N.o)(l.options,b)),I=s()(F,2),w=I[0],D=I[1];p.a.useEffect((function(){return d.register(a),t||u(!0),function(){}}),[]),p.a.useEffect((function(){var e=null==w?void 0:w.value,t=JSON.stringify(b)!==JSON.stringify(e);m&&t&&d.setValue(a,e,{shouldDirty:!0})}),[w]);var A=null;return b&&w?A=w:b&&(A={label:b,value:b}),p.a.createElement("div",{className:"form-group for-select ".concat(j," ").concat(r||"")},n&&p.a.createElement("label",null,n),p.a.createElement(B,_()({isDisabled:v.includes(a),onChange:function(e){D(e)},loadOptions:function(){return t((function(e){return function(e){D(Object(N.o)(e,b)),u(!0)}(e),e}))},value:A,onBlur:function(){d.setValue(a,d.getValues(a),{shouldTouch:!0})}},l)))}var J=p.a.memo(Y),X=a("5WRv"),W=a.n(X),Q=a("UZWV"),Z=a("wULM"),H={interests:Z.a.array().of(Z.a.string()).notRequired()};function K(){var e=Object(f.useState)([]),t=s()(e,2),a=t[0],n=t[1];return Object(f.useEffect)((function(){r()(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)();case 2:t=e.sent,(a=Math.ceil(t.length/2))&&n([t.splice(0,a),W()(t)]);case 5:case"end":return e.stop()}}),e)})))()}),[]),null!=a&&a.length?p.a.createElement(I.a,{title:gettext("Interests")},p.a.createElement("div",{className:"interests"},p.a.createElement("div",{className:"row",style:{marginBottom:"-12px",paddingTop:"7px"}},a.map((function(e,t){return p.a.createElement("div",{key:t,className:"col-md-6"},e.map((function(e,t){return p.a.createElement(Q.a,{key:t,variant:"outline-primary",value:e.slug,htmlFor:"profileInterest".concat(e.slug),children:e.title,name:"interests[]"})})))}))))):null}var $=p.a.memo(K),ee=a("nhD6"),te=a("FvgB");function ae(e){var t,a=e.index,n=e.name,r=e.onDelete,l=e.disabled,i=e.profileVerificationState;return p.a.createElement("div",{className:"profile-certificate"},!l&&p.a.createElement("button",{type:"button",className:"profile-certificate__btn-del",onClick:r},p.a.createElement(k.a,{name:"close",size:"8"})),p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,addCustom:!0,hideSelectedOptions:!0,loadOptions:g.g,children:gettext("Specialty by certificate"),name:"".concat(n,".specializations"),isDisabled:l,className:i||""}),p.a.createElement(te.a,{name:"".concat(n,".specialization_custom"),dependsOn:"".concat(n,".specializations"),placeholder:gettext("Specialty by certificate"),disabled:l,className:i||""}),p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-md-8"},p.a.createElement(v.a,{htmlFor:"profileEducertificatenumber"+a,children:gettext("Certificate Number"),name:"".concat(n,".number"),disabled:l,className:i||""})),p.a.createElement("div",{className:"col-md-4"},p.a.createElement(v.a,{htmlFor:"profileEducertificatedate"+a,children:gettext("Issued date"),name:"".concat(n,".date"),imask:{alias:"datetime",placeholder:gettext("дд/мм/гггг")},disabled:l,className:i||""}))),p.a.createElement(w.a,(t={className:"profile-certificate__file",htmlFor:"profileEducertificate"+a,placeholder:"Копия сертификата",name:"".concat(n,".file")},m()(t,"className",i||""),m()(t,"disabledFixed",l),t)))}var ne=Object(f.memo)(ae),re=Z.a.array().of(Z.a.object({specializations:Z.a.string().nullable(!0),specialization_custom:Z.a.string().when("specializations",(function(e,t){return"custom"==e?t.required():t})),number:Z.a.string().when("specializations",(function(e,t){return e?t.required():t})),date:Z.a.string().when("specializations",(function(e,t){return e?t.required():t})),file:N.p.max(1).when("specializations",(function(e,t){return e?t.required(gettext("Upload document")):t}))}));function le(e){var t=e.name,a=Object(E.c)(),n=p.a.useState([]),r=s()(n,2),l=r[0],i=r[1];a.register(t);var c=Object(f.useContext)(S.c),o=c.disabledFields,m=c.verificationErrors,u=!!o&&o.includes(t),d=m.length?m.includes(t):null,h="";d&&(h=Object(N.h)(a.formState.dirtyFields,t)||Object(N.h)(a.formState.touchedFields,t)?"profile_verification_changed":"profile_verification_not-valid");return Object(f.useEffect)((function(){var e="_total_"+t;a.register(e),i(Array(a.getValues(e)||1).fill(0).map((function(e,t){return t}))),a.unregister(e)}),[]),p.a.createElement("div",{className:"profile-certificates"},l.map((function(e,n){return p.a.createElement(ne,{key:e,index:n,name:"".concat(t,"[").concat(e,"]"),onDelete:function(){return function(e){var n,r=a.getValues("".concat(t));null!=r&&null!==(n=r[e])&&void 0!==n&&n.id?(r[e].should_delete=!0,a.setValue("".concat(t),r,{shouldTouch:!0})):(a.register("".concat(t,"[").concat(e,"]")),a.setValue("".concat(t,"[").concat(e,"]"),null,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})),i(l.filter((function(t){return t!==e})))}(e)},disabled:u,profileVerificationState:h})})),!u&&p.a.createElement("button",{type:"button",className:"btn btn-add-certificate profile-certificates__btn-add",onClick:function(){i(l.concat((new Date).getTime()))}},"Добавить сертификат +"))}var ie=p.a.memo(le),ce=a("6IBK"),se=a("mI8q"),oe=a("txoE"),me=a("1Dlf");function ue(e){var t=e.index,a=e.name,n=e.onDelete,r=e.disabled,l=e.profileVerificationState;return p.a.createElement("div",{className:"profile-certificate"},!r&&p.a.createElement("button",{type:"button",className:"profile-certificate__btn-del",onClick:n},p.a.createElement(k.a,{name:"close",size:"8"})),p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,hideSelectedOptions:!0,loadOptions:g.f,children:"Выберите форму",name:"".concat(a,".level"),isDisabled:r,className:l||""}),p.a.createElement(w.a,m()({className:"profile-certificate__file",htmlFor:"profileEducertificate"+t,placeholder:"Копия документа",name:"".concat(a,".file"),disabledFixed:r},"className",l||"")))}var de=Object(f.memo)(ue),fe=Z.a.array().of(Z.a.object({level:Z.a.string(),file:N.p.when("level",(function(e,t){return e&&e.length?t.required(gettext("Upload document")):t}))})).unique("Форма должна быть уникальным значением",(function(e){return e.level}));function pe(e){var t=e.name,a=Object(E.c)(),n=Object(N.h)(a.formState.errors,t),r=p.a.useState([]),l=s()(r,2),i=l[0],c=l[1];a.register(t);var o=Object(f.useContext)(S.c),m=o.disabledFields,u=o.verificationErrors,d=!!m&&m.includes("postgraudate_education.level"),h=u.length?u.includes("postgraudate_education.level"):null,b="";h&&(b=Object(N.h)(a.formState.dirtyFields,t)||Object(N.h)(a.formState.touchedFields,t)?"profile_verification_changed":"profile_verification_not-valid");return Object(f.useEffect)((function(){var e="_total_"+t;a.register(e),c(Array(a.getValues(e)||1).fill(0).map((function(e,t){return t}))),a.unregister(e)}),[]),p.a.createElement("div",{className:"profile-certificates"},n&&p.a.createElement("div",{style:{marginTop:"5px",fontSize:"13px",color:"#B60E2B"}},n.message),i.map((function(e,n){return p.a.createElement(de,{key:e,index:n,name:"".concat(t,"[").concat(e,"]"),onDelete:function(){return function(e){var n,r=a.getValues("".concat(t));null!=r&&null!==(n=r[e])&&void 0!==n&&n.id?(r[e].should_delete=!0,a.setValue("".concat(t),r,{shouldTouch:!0})):(a.register("".concat(t,"[").concat(e,"]")),a.setValue("".concat(t,"[").concat(e,"]"),null,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})),c(i.filter((function(t){return t!==e})))}(e)},disabled:d,profileVerificationState:b})})),!d&&p.a.createElement("button",{type:"button",className:"btn btn-add-certificate profile-certificates__btn-add",onClick:function(){c(i.concat((new Date).getTime()))}},"Добавить последипломное образование +"))}var he,be=p.a.memo(pe);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}Z.a.string(),Z.a.string();var ge={type:Z.a.string().ensure(),issued_at:Z.a.date().formatDate("DD/MM/YYYY",!0).nullable().notRequired().when("type",(function(e,t){return"ru"==e?t.max(new Date).required():t})),date_of_birth:Z.a.date().formatDate("DD/MM/YYYY",!0).max(new Date).nullable().when("type",(function(e,t){return e&&e.length?t.required():t})),is_last_name_changed:Z.a.boolean().notRequired()},ve=(he={level:Z.a.string(),graduated_at:Z.a.string(),org:Z.a.string()},m()(he,"level",Z.a.string().nullable().notRequired()),m()(he,"graduated_at",Z.a.number().transform((function(e){return e||void 0})).min(1950).max((new Date).getFullYear()).notRequired()),m()(he,"org",Z.a.string().required()),he),Oe={org:Z.a.string().notRequired()},_e={country:Z.a.string().notRequired(),region:Z.a.string().notRequired(),street:Z.a.string().notRequired(),building:Z.a.string().notRequired()},Ne=Object(Z.c)(Z.a.object(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({last_name:Z.a.string().required(),first_name:Z.a.string().required(),middle_name:Z.a.string().required(),gender:Z.a.string().nullable().required(),email:Z.a.string().email(),phone:Z.a.string(),snils:Z.a.string().when("passport.type",(function(e,t){return"ru"==e?t.required():t})),snils_file:N.p.when("snils",(function(e,t){return e&&e.length?t.required(gettext("Upload document")):t})),passport:Z.a.object(ge),last_name_change:N.p.when("passport.is_last_name_changed",(function(e,t){return 1==e?t.required(gettext("Upload document")):t})),education:Z.a.object(ve),education_first:N.p.when("education.org",(function(e,t){return e&&e.length?t.required(gettext("Upload document")):t})),certificates:re,postgraduate_educations:fe,address:Z.a.object(_e),job:Z.a.object(Oe)},H))),Se=["documents"],je=["profile"];function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=function(e,t){var a,n=e.sections_that_can_be_edited,r=e.sections_that_should_be_edited,l=[],i=[];for(var c in U.PROFILE_VERIFICATION_GROUP_FIELD_FIELDS)n[c]||U.PROFILE_VERIFICATION_GROUP_FIELD_FIELDS[c].forEach((function(e){i.push(e)})),r[c]&&U.PROFILE_VERIFICATION_GROUP_FIELD_FIELDS[c].forEach((function(e){l.push(e)}));return"ru"!=(null==e||null===(a=e.passport)||void 0===a?void 0:a.type)&&l.includes("snils")&&(l=l.filter((function(e){return"snils"!=e&&"snils_file"!=e})),t.setValue("snils",t.getValues("snils"),{shouldDirty:!0,shouldTouch:!0})),[l,i]},Ie=function(e,t){var a=xe({},e);return t.forEach((function(e){Object(N.a)(e,e.application,a)})),a.certificates=a.certificates.map((function(e){return xe(xe({},e),{},{file:[xe({},e)]})})),a._total_certificates=a.certificates.length,a.postgraduate_educations=a.postgraduate_educations.map((function(e){return xe(xe({},e),{},{file:[xe({},e)]})})),a._total_postgraduate_educations=a.postgraduate_educations.length,a};function we(){var e=Object(f.useState)(!1),t=s()(e,2),a=t[0],n=t[1],l=Object(f.useState)(!1),c=s()(l,2),o=c[0],m=c[1],u=Object(f.useState)({}),O=s()(u,2),_=O[0],j=O[1],y=Object(f.useState)([]),D=s()(y,2),A=D[0],V=D[1],T=Object(h.b)(),C=Object(oe.a)(),P=Object(h.c)((function(e){return e.user})),L=P.profile,k=L.documents,R=i()(L,Se),z=i()(P,je),q=Object(E.b)({resolver:Ne,defaultValues:xe({},Ie(R,k))}),M=Object(E.d)({name:"address.country",control:q.control});Object(f.useEffect)((function(){Object(N.h)(q.formState.dirtyFields,"address.country",!1)&&q.setValue("address.city",null,{shouldDirty:!0})}),[M]);var B=Object(f.createRef)(),U=function(){var e=r()(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.certificates=t.certificates||[],t.postgraduate_educations=t.postgraduate_educations||[],A.includes("certificates")&&delete t.certificates,A.includes("postgraduate_educations")&&delete t.postgraduate_educations,e.t0=d.a.keys(t);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,Object(N.h)(q.formState.dirtyFields,a,!1)||Object(N.h)(q.formState.touchedFields,a,!1)){e.next=12;break}if(!_.includes(a)){e.next=11;break}return C.show("Отмеченные поля не заполены, или заполнены некорректно. Если поле заполнено верно, кликните на нем.",{type:"error"}),e.abrupt("return");case 11:delete t[a];case 12:e.next=5;break;case 14:return 0==o&&m(!0),e.abrupt("return",T(Object(g.i)(t)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){var e=window.matchMedia("(max-width: 576px)"),t=B.current,a=function(){var e=document.getElementById("wrapperPagesPage");t&&(e.getBoundingClientRect().bottom>window.innerHeight?t.classList.add("is-fixed"):t.classList.remove("is-fixed"))},n=me.a.media.subscribe(e,[!0,function(){a(),window.addEventListener("scroll",a)}],[!1,function(){a(),window.removeEventListener("scroll",a)}]),r=Fe(R,q),l=s()(r,2),i=l[0],c=l[1];return j(i),V(c),i.length&&C.show("Отмеченные поля не заполены, или заполнены некорректно. Если поле заполнено верно, кликните на нем.",{type:"error"}),function(){n.unsubscribe(),window.removeEventListener("scroll",a)}}),[]),Object(f.useEffect)((function(){q.formState.isSubmitted&&Object.keys(q.formState.errors).length&&C.form.error()}),[q.formState.isSubmitting]),Object(f.useEffect)((function(){if(o&&(z.errors.formProfile||z.success.formProfile)&&C.show(z.messages.formProfile,{type:z.errors.formProfile?"error":"success"}),z.success.formProfile){q.reset(xe({},Ie(R,k)));var e=Fe(R,q),t=s()(e,2),a=t[0],n=t[1];j(a),V(n)}}),[o,z.errors.formProfile,z.success.formProfile]),Object(f.useEffect)((function(){if(q.formState.isDirty){var e=q.getValues(),t=Object.keys(q.formState.dirtyFields).some((function(t){return(!!e[t]&&e[t])!==(!!R[t]&&R[t])}));n(!!t)}q.formState.isSubmitSuccessful&&n(!1)}),[q.formState]),Object(f.useEffect)((function(){window.onbeforeunload=a||void 0}),[a]);var G=function(e){q.setValue("passport.is_last_name_changed",e.target.value,{shouldTouch:!0}),q.setValue("last_name_change",q.getValues("last_name_change"),{shouldTouch:!0})},Y=!0;("ru"==q.getValues("passport.type")?["passport.type","passport.series","passport.number","passport.issued_at","passport.issued_by","passport.date_of_birth","passport.department_code","passport.registration_address"]:["passport.type","passport.type_custom","passport.number","passport.date_of_birth"]).forEach((function(e){Object(N.h)(q.formState.touchedFields,e,!1)||(Y=!1)})),Y&&(q.setValue("document",q.getValues("document"),{shouldTouch:!0}),q.setValue("document_2",q.getValues("document_2"),{shouldTouch:!0}));var X=!0;return["education.level","education.graduated_at","education.org","education.series","education.number","education.fio"].forEach((function(e){Object(N.h)(q.formState.touchedFields,e,!1)||(X=!1)})),X&&q.setValue("education_first",q.getValues("education_first"),{shouldTouch:!0}),p.a.createElement(p.a.Fragment,null,p.a.createElement(b.a,{when:a,message:gettext("You have unsaved changes, are you sure you want to leave?")}),p.a.createElement(S.d,{value:{disabledFields:A,verificationErrors:_}},p.a.createElement(E.a,q,p.a.createElement("form",{className:"profile",onSubmit:q.handleSubmit(U)},p.a.createElement(I.a,{title:gettext("Personal Data")},p.a.createElement("div",{className:"row row--small",style:{marginTop:"-1px"}},p.a.createElement("div",{className:"col-md-4"},p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-sm-6 col-md-12"},p.a.createElement(v.a,{htmlFor:"profilelastName",children:gettext("Lastname"),name:"last_name"})))),p.a.createElement("div",{className:"col-sm-6 col-md-4"},p.a.createElement(v.a,{htmlFor:"profilefirstName",children:gettext("Firstname"),name:"first_name"})),p.a.createElement("div",{className:"col-sm-6 col-md-4"},p.a.createElement(v.a,{htmlFor:"profileMiddlename",children:gettext("Middle name"),name:"middle_name"}))),p.a.createElement(F.a,{name:"gender"},p.a.createElement("label",{style:{paddingBottom:"15px"}},gettext("Gender")),p.a.createElement("div",{className:"inline-radios"},p.a.createElement(x,{className:"inline-radio",htmlFor:"profileGenderM",children:gettext("Mr"),name:"gender",value:"MALE"}),p.a.createElement(x,{className:"inline-radio",htmlFor:"profileGenderF",children:gettext("Mrs"),name:"gender",value:"FEMALE"}))),p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-sm-6"},p.a.createElement(v.a,{disabled:!0,children:gettext("Email"),htmlFor:"profileEmail",name:"email",imask:{alias:"email"}})),p.a.createElement("div",{className:"col-sm-6"},p.a.createElement(v.a,{htmlFor:"profilePhone",children:gettext("Phone"),name:"phone",imask:{alias:"phone"}})),p.a.createElement("div",{className:"col-12"},p.a.createElement("p",{className:"profile-snil-title"},"СНИЛС"),p.a.createElement(v.a,{name:"snils",imask:{alias:"snils"},onBlur:function(){q.setValue("snils",q.getValues("snils"),{shouldTouch:!0}),q.setValue("snils_file",q.getValues("snils_file"),{shouldTouch:!0})}}),p.a.createElement(w.a,{htmlFor:"profileSnilFile",name:"snils_file",placeholder:"Копия документа CНИЛС"})))),p.a.createElement(I.a,{title:gettext("Address for correspondence")},p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-sm-8"},p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,loadOptions:se.c,children:gettext("Country"),name:"address.country",hideSelectedOptions:!0,isClearable:!0})),p.a.createElement("div",{className:"col-sm-8"},"RU"==M?p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,hideSelectedOptions:!0,loadOptions:se.b,children:gettext("City, region"),name:"address.city"}):p.a.createElement(J,{isClearable:!0,isCreatable:!0,placeholder:"Введите город",children:gettext("City, region"),name:"address.city"})),p.a.createElement("div",{className:"col-sm-4"},p.a.createElement(v.a,{htmlFor:"profileIndex",children:gettext("Index"),name:"address.index",style:{marginBottom:"16px"}})),p.a.createElement("div",{className:"col-sm-8"},p.a.createElement(v.a,{htmlFor:"profileStreet",children:gettext("Street"),name:"address.street"})),p.a.createElement("div",{className:"col-sm-4"},p.a.createElement(v.a,{htmlFor:"profileBuilding",children:gettext("Appartment, Office"),name:"address.building"})))),p.a.createElement(I.a,{title:gettext("Passport Data")},p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-12"},p.a.createElement(F.a,{name:"passport.type"},p.a.createElement("label",null,gettext("Document type")),p.a.createElement("div",{className:"inline-radios for-passport-type"},p.a.createElement(x,{className:"inline-radio",htmlFor:"profilePassDocRU",children:gettext("Russian Passport"),name:"passport.type",value:"ru"}),p.a.createElement(x,{className:"inline-radio",htmlFor:"profilePassDocOthers",children:gettext("Passport other country"),name:"passport.type",value:"other"}))))),p.a.createElement(ce.a,null),p.a.createElement(w.a,{placeholder:"Копия страниц разворота паспорта",name:"document"}),p.a.createElement(w.a,{placeholder:"Копия страниц с регистрацией",name:"document_2"}),p.a.createElement(F.a,{name:"passport.is_last_name_changed"},p.a.createElement("label",{style:{paddingBottom:"18px"}},gettext("Have you changed your first name ?")),p.a.createElement("div",{className:"inline-radios"},p.a.createElement(x,{className:"inline-radio",htmlFor:"profilePasssurnamechangeYes",children:"Да",name:"passport.is_last_name_changed",value:"true",onClick:G}),p.a.createElement(x,{className:"inline-radio",htmlFor:"profilePasssurnamechangeNo",children:"Нет",name:"passport.is_last_name_changed",value:"false",onClick:G}))),p.a.createElement(ee.a,{placeholder:"Документ подтверждающией смену фамилии",name:"last_name_change",dependsOn:"passport.is_last_name_changed"})),p.a.createElement(I.a,{title:gettext("Education Data")},p.a.createElement("div",{className:"row row--small"},p.a.createElement("div",{className:"col-sm-8"},p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,hideSelectedOptions:!0,loadOptions:g.c,children:gettext("Level of education"),name:"education.level"})),p.a.createElement("div",{className:"col-sm-4"},p.a.createElement(v.a,{htmlFor:"profileEdugraduated",children:gettext("Graduation year"),name:"education.graduated_at",imask:{mask:"9999",placeholder:gettext("dddd")}})),p.a.createElement("div",{className:"col-12"},p.a.createElement(v.a,{htmlFor:"profileEduinstitutionname",children:gettext("Institution name"),name:"education.org"})),p.a.createElement("div",{className:"col-sm-3"},p.a.createElement(v.a,{htmlFor:"profileEduSeries",children:"Серия",name:"education.series"})),p.a.createElement("div",{className:"col-sm-3"},p.a.createElement(v.a,{htmlFor:"profileEduNumber",children:"Номер",name:"education.number"})),p.a.createElement("div",{className:"col-sm-6"},p.a.createElement(v.a,{htmlFor:"profileEduFio",children:"ФИО в дипломе",name:"education.fio"})),p.a.createElement("div",{className:"col-12"},p.a.createElement(w.a,{multiple:!0,placeholder:"Копия разворота главной страницы диплома без вкладыша",name:"education_first"}),p.a.createElement("p",{className:"page-subtitle"},"Последипломное образование"),p.a.createElement(be,{name:"postgraduate_educations"}),p.a.createElement("p",{className:"page-subtitle"},"Сертификат специалиста"),p.a.createElement(ie,{name:"certificates"})))),p.a.createElement($,null),p.a.createElement(I.a,{title:gettext("Experience")},p.a.createElement(v.a,{htmlFor:"profileExpcompany",children:gettext("Company"),name:"job.org"}),p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,addCustom:!0,hideSelectedOptions:!0,loadOptions:g.g,children:gettext("Speciality"),name:"job.specializations"}),p.a.createElement(te.a,{name:"job.specialization_custom",dependsOn:"job.specializations",placeholder:gettext("Speciality")}),p.a.createElement(J,{isAsync:!0,cacheOptions:!0,defaultOptions:!0,isClearable:!0,addCustom:!0,hideSelectedOptions:!0,loadOptions:g.e,children:gettext("Position"),name:"job.positions"}),p.a.createElement(te.a,{name:"job.position_custom",dependsOn:"job.positions",placeholder:gettext("Position")})),p.a.createElement("div",{ref:B,className:"text-right profile__btn-submit-outer"},p.a.createElement("button",{type:"submit",disabled:q.formState.isSubmitting,className:"btn btn-warning profile__btn-submit"},"Сохранить изменения"))))))}t.default=Object(f.memo)(we)},UZWV:function(e,t,a){"use strict";var n=a("8VmE"),r=a.n(n),l=a("gT8Q"),i=a("mXGw"),c=a.n(i);function s(e){var t=e.className,a=e.htmlFor,n=e.name,i=e.children,s=e.variant,o=e.value,m=Object(l.c)().register(n),u=r()({},m);return c.a.createElement("div",{className:"checkbox ".concat(s?"checkbox-"+s:""," ").concat(t)},c.a.createElement("input",r()({type:"checkbox",name:n,id:a,value:o},u)),c.a.createElement("label",{htmlFor:a},i))}t.a=Object(i.memo)(s)},mIuT:function(e,t,a){"use strict";var n=a("nxTg"),r=a.n(n),l=a("mXGw"),i=a.n(l),c=a("ZBSk"),s=a("tDzP"),o=a("gT8Q"),m=a("eWzo"),u=a("xPX6"),d=a("/m4v"),f=a("B9iI"),p=a("AmVM"),h=a("M/Lc"),b=a("CEPA");function E(e){var t=e.accept,a=void 0===t?u.DEFAULT_INPUT_FILE_ATTRS.ACCEPT:t,n=e.multiple,h=void 0!==n&&n,E=e.maxSize,v=void 0===E?u.DEFAULT_INPUT_FILE_ATTRS.MAX_SIZE:E,O=e.name,_=e.children,N=e.placeholder,S=e.className,j=e.disabledFixed,y=Object(o.c)(),x=Object(m.h)(y.formState.errors,O),F=Object(o.d)({control:y.control,name:O})||[],I=Object(l.useState)(!1),w=r()(I,2),D=w[0],A=w[1],V=Object(d.b)(),T=(Object(d.c)((function(e){return e.user})).idOfDocumentsToDelete,Object(l.useContext)(p.c)),C=T.disabledFields,P=T.verificationErrors,L=Object(l.useState)(!1),k=r()(L,2),R=k[0],z=k[1],q=Object(l.useState)({disabled:R,onDelete:K,placeholder:N,maxSize:v,accept_extensions:X}),M=r()(q,2),B=M[0],U=M[1],G="",Y="";y.formState.isSubmitted&&(x?Y=u.VALIDATION_CLASSES.NOT_VALID:F.length&&(Y=u.VALIDATION_CLASSES.VALID));var J="";P.length>0&&P.includes(O)&&(J=Object(m.h)(y.formState.dirtyFields,O)||Object(m.h)(y.formState.touchedFields,O)?u.VALIDATION_CLASSES.VERIFICATION_VALID:u.VALIDATION_CLASSES.VERIFICATION_NOT_VALID),G=Y==u.VALIDATION_CLASSES.NOT_VALID?J?u.VALIDATION_CLASSES.VERIFICATION_NOT_VALID:Y:J||Y;var X=Object(l.useMemo)((function(){return a.split(",").map((function(e){var t=e.split("/"),a=r()(t,2),n=a[0];return a[1]||n})).join(", ")}),[a]),W=function(e){y.setValue(O,e,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},Q=Object(c.a)({accept:a,multiple:h,maxSize:v,onDropAccepted:function(e){if(D){var t=e.map((function(t){return{title:t.name,application:O,file_meta:{filesize:t.size,extension:t.name.slice(2+(e[0].name.lastIndexOf(".")-1>>>0)),name:t.name.split(".").slice(0,-1).join(".")},created_at:t.created_at,file:t,file_urls:t.file_urls}})).concat(F);W(h?t:[t[0]])}}}),Z=Q.getRootProps,H=Q.getInputProps,K=function(e){return function(){W(F.filter((function(t){return t.title!=e.title}))),null!=e&&e.id&&"certificate"!=(null==e?void 0:e.application)&&"postgraduate_education"!=(null==e?void 0:e.application)&&V(Object(f.a)(e.id))}};return Object(l.useEffect)((function(){return y.register(O),function(){}}),[]),Object(l.useEffect)((function(){z(void 0===j?!!C&&C.includes(O):j)}),[j,C]),Object(l.useEffect)((function(){(h||!h&&F.length<1)&&!R?A(!0):A(!1)}),[h,F,R]),Object(l.useEffect)((function(){U({disabled:R,placeholder:N,maxSize:v,accept_extensions:X})}),[R,N,v,X]),i.a.createElement(p.b,{value:B},i.a.createElement("div",{className:"form-group for-file ".concat(G," ").concat(S||"")},_&&i.a.createElement("label",null,_," (",X,")"),F.length>0&&i.a.createElement(g,{files:F,onDelete:K}),D&&i.a.createElement("div",Z(),i.a.createElement("div",{className:"input"},i.a.createElement(b.a,{placeholder:N,maxSize:v,accept_extensions:X}),i.a.createElement(s.a,{name:"attached-doc",className:"icon-attached-doc",height:19,width:25}),i.a.createElement("input",H({name:O})))),x&&i.a.createElement("p",{className:"error"},x.message)))}function g(e){var t=e.files,a=e.onDelete;return t.map((function(e,t){return i.a.createElement(v,{file:e,onDelete:a,key:t})}))}function v(e){var t=e.file,a=e.onDelete,n=Object(l.useContext)(p.a),r=n.disabled,c=n.placeholder,o=n.maxSize,m=n.accept_extensions;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"preview-file"},i.a.createElement("div",null,i.a.createElement(b.a,{placeholder:c,maxSize:o,accept_extensions:m}),i.a.createElement(h.a,{file:t})),!r&&i.a.createElement(s.a,{name:"close",size:13,onClick:a(t)})))}t.a=Object(l.memo)(E)},nhD6:function(e,t,a){"use strict";(function(e){var n=a("RiSW"),r=a.n(n),l=a("gT8Q"),i=a("mIuT"),c=["dependsOn"];t.a=e.memo((function(t){var a=t.dependsOn,n=r()(t,c),s=Object(l.c)(),o=Object(l.d)({control:s.control,name:a});return e.createElement(e.Fragment,null,"true"==o&&e.createElement(i.a,n))}))}).call(this,a("mXGw"))}}]);